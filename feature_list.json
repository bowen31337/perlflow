[
  {
    "category": "functional",
    "description": "Session API - Create new session with valid clinic API key returns session_id and welcome message",
    "steps": [
      "Step 1: Send POST /session with valid clinic_api_key",
      "Step 2: Verify response status is 200",
      "Step 3: Verify response contains session_id (UUID format)",
      "Step 4: Verify response contains welcome_message string",
      "Step 5: Verify session_id is stored in database"
    ],
    "passes": true,
    "is_dev_done": true,
    "is_qa_passed": true,
    "qa_retry_count": 0,
    "dev_failure_count": 0
  },
  {
    "category": "functional",
    "description": "Session API - Create session with invalid API key returns 401 unauthorized",
    "steps": [
      "Step 1: Send POST /session with invalid clinic_api_key",
      "Step 2: Verify response status is 401",
      "Step 3: Verify error message indicates invalid credentials"
    ],
    "passes": true,
    "is_dev_done": true,
    "is_qa_passed": true,
    "qa_retry_count": 0,
    "dev_failure_count": 0
  },
  {
    "category": "functional",
    "description": "Session API - Get existing session returns session details",
    "steps": [
      "Step 1: Create a new session via POST /session",
      "Step 2: Send GET /session/{session_id}",
      "Step 3: Verify response contains session_id",
      "Step 4: Verify response contains status (ACTIVE)",
      "Step 5: Verify response contains current_agent field"
    ],
    "passes": true,
    "is_dev_done": true,
    "is_qa_passed": true,
    "qa_retry_count": 0,
    "dev_failure_count": 0
  },
  {
    "category": "functional",
    "description": "Session API - Get non-existent session returns 404",
    "steps": [
      "Step 1: Send GET /session with random UUID",
      "Step 2: Verify response status is 404",
      "Step 3: Verify error message indicates session not found"
    ],
    "passes": true,
    "is_dev_done": true,
    "is_qa_passed": true,
    "qa_retry_count": 0,
    "dev_failure_count": 0
  },
  {
    "category": "functional",
    "description": "Chat API - Send message to valid session returns acknowledgment",
    "steps": [
      "Step 1: Create a new session",
      "Step 2: Send POST /chat/message with session_id and text",
      "Step 3: Verify response status is 200",
      "Step 4: Verify response indicates message received"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false,
    "qa_retry_count": 0,
    "dev_failure_count": 3,
    "last_dev_failure_at": "2026-01-03T13:59:00.579112Z",
    "dev_failure_reasons": [
      "All 1 API pairs failed for this request",
      "All 1 API pairs failed for this request",
      "All 1 API pairs failed for this request"
    ],
    "is_stuck": true,
    "stuck_reason": "Max DEV failures exceeded. Last errors: ['All 1 API pairs failed for this request', 'All 1 API pairs failed for this request']",
    "stuck_at": "2026-01-03T13:59:10.220339Z"
  },
  {
    "category": "functional",
    "description": "Chat API - Send message to invalid session returns error",
    "steps": [
      "Step 1: Send POST /chat/message with invalid session_id",
      "Step 2: Verify response status is 404",
      "Step 3: Verify error message"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false,
    "qa_retry_count": 0,
    "dev_failure_count": 3,
    "last_dev_failure_at": "2026-01-03T13:58:58.786086Z",
    "dev_failure_reasons": [
      "All 1 API pairs failed for this request",
      "All 1 API pairs failed for this request",
      "All 1 API pairs failed for this request"
    ],
    "is_stuck": true,
    "stuck_reason": "Max DEV failures exceeded. Last errors: ['All 1 API pairs failed for this request', 'All 1 API pairs failed for this request']",
    "stuck_at": "2026-01-03T13:59:05.314176Z"
  },
  {
    "category": "functional",
    "description": "Chat Streaming - SSE endpoint returns token events for typewriter effect",
    "steps": [
      "Step 1: Create a new session",
      "Step 2: Send a chat message",
      "Step 3: Connect to GET /chat/stream/{session_id}",
      "Step 4: Verify SSE connection is established",
      "Step 5: Verify 'token' events are received",
      "Step 6: Verify tokens can be concatenated to form complete response",
      "Step 7: Verify 'complete' event is received at end"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false,
    "qa_retry_count": 0,
    "dev_failure_count": 3,
    "last_dev_failure_at": "2026-01-03T13:59:01.050714Z",
    "dev_failure_reasons": [
      "All 1 API pairs failed for this request",
      "All 1 API pairs failed for this request",
      "All 1 API pairs failed for this request"
    ],
    "is_stuck": true,
    "stuck_reason": "Max DEV failures exceeded. Last errors: ['All 1 API pairs failed for this request', 'All 1 API pairs failed for this request']",
    "stuck_at": "2026-01-03T13:59:08.473124Z"
  },
  {
    "category": "functional",
    "description": "Chat Streaming - SSE returns agent_state events during processing",
    "steps": [
      "Step 1: Create a session and send message",
      "Step 2: Connect to SSE stream",
      "Step 3: Verify 'agent_state' events are received",
      "Step 4: Verify agent_state contains active_agent field",
      "Step 5: Verify agent_state contains thinking boolean"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false,
    "qa_retry_count": 0,
    "dev_failure_count": 3,
    "last_dev_failure_at": "2026-01-03T13:58:58.106759Z",
    "dev_failure_reasons": [
      "All 1 API pairs failed for this request",
      "All 1 API pairs failed for this request",
      "All 1 API pairs failed for this request"
    ],
    "is_stuck": true,
    "stuck_reason": "Max DEV failures exceeded. Last errors: ['All 1 API pairs failed for this request', 'All 1 API pairs failed for this request']",
    "stuck_at": "2026-01-03T13:59:07.349900Z"
  },
  {
    "category": "functional",
    "description": "Chat Streaming - SSE returns ui_component events for generative UI",
    "steps": [
      "Step 1: Create session and send pain-related message",
      "Step 2: Connect to SSE stream",
      "Step 3: Verify 'ui_component' event is received",
      "Step 4: Verify component type is PainScaleSelector",
      "Step 5: Verify component props are valid"
    ],
    "passes": false,
    "is_dev_done": true,
    "is_qa_passed": false,
    "qa_retry_count": 0,
    "dev_failure_count": 0,
    "dev_completed_at": "2026-01-03T13:59:39.025727Z"
  },
  {
    "category": "functional",
    "description": "Root Agent - Receptionist correctly identifies pain/emergency intent",
    "steps": [
      "Step 1: Create new session",
      "Step 2: Send message 'I have severe tooth pain'",
      "Step 3: Verify agent delegates to IntakeSpecialist",
      "Step 4: Verify SSE agent_state shows 'IntakeSpecialist' as active",
      "Step 5: Verify response asks about pain level"
    ],
    "passes": false,
    "is_dev_done": true,
    "is_qa_passed": false,
    "qa_retry_count": 0,
    "dev_failure_count": 0,
    "dev_completed_at": "2026-01-03T13:59:39.029954Z"
  },
  {
    "category": "functional",
    "description": "Root Agent - Receptionist correctly identifies booking intent",
    "steps": [
      "Step 1: Create new session",
      "Step 2: Send message 'I would like to book a cleaning appointment'",
      "Step 3: Verify agent delegates to ResourceOptimiser",
      "Step 4: Verify SSE agent_state shows 'ResourceOptimiser' as active",
      "Step 5: Verify response relates to appointment availability"
    ],
    "passes": false,
    "is_dev_done": true,
    "is_qa_passed": false,
    "qa_retry_count": 0,
    "dev_failure_count": 0,
    "dev_completed_at": "2026-01-03T13:59:38.809804Z"
  },
  {
    "category": "functional",
    "description": "Root Agent - Receptionist maintains polite and helpful tone",
    "steps": [
      "Step 1: Create session and send greeting message",
      "Step 2: Verify response is polite and welcoming",
      "Step 3: Verify response offers to help",
      "Step 4: Verify no technical jargon is used"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false,
    "qa_retry_count": 0,
    "dev_failure_count": 1,
    "last_dev_failure_at": "2026-01-03T13:59:10.411884Z",
    "dev_failure_reasons": [
      "All 1 API pairs failed for this request"
    ]
  },
  {
    "category": "functional",
    "description": "IntakeSpecialist Agent - Asks for pain level on 1-10 scale",
    "steps": [
      "Step 1: Create session",
      "Step 2: Send pain-related message to trigger IntakeSpecialist",
      "Step 3: Verify response asks for pain level",
      "Step 4: Verify 1-10 scale is mentioned or UI component sent",
      "Step 5: Send pain level response",
      "Step 6: Verify agent acknowledges the pain level"
    ],
    "passes": false,
    "is_dev_done": true,
    "is_qa_passed": false,
    "qa_retry_count": 0,
    "dev_completed_at": "2026-01-03T13:59:38.807711Z",
    "dev_failure_count": 0
  },
  {
    "category": "functional",
    "description": "IntakeSpecialist Agent - Checks for red flag symptoms (swelling)",
    "steps": [
      "Step 1: Trigger IntakeSpecialist with pain message",
      "Step 2: Provide pain level",
      "Step 3: Verify agent asks about swelling",
      "Step 4: Respond with swelling symptom",
      "Step 5: Verify agent escalates priority"
    ],
    "passes": false,
    "is_dev_done": true,
    "is_qa_passed": false,
    "qa_retry_count": 0,
    "dev_completed_at": "2026-01-03T13:59:38.747803Z",
    "dev_failure_count": 0
  },
  {
    "category": "functional",
    "description": "IntakeSpecialist Agent - Checks for red flag symptoms (fever)",
    "steps": [
      "Step 1: Trigger IntakeSpecialist with pain message",
      "Step 2: Provide pain level",
      "Step 3: Verify agent asks about fever",
      "Step 4: Respond indicating fever",
      "Step 5: Verify agent increases priority score"
    ],
    "passes": false,
    "is_dev_done": true,
    "is_qa_passed": false,
    "qa_retry_count": 0,
    "dev_completed_at": "2026-01-03T13:59:38.964207Z",
    "dev_failure_count": 0
  },
  {
    "category": "functional",
    "description": "IntakeSpecialist Agent - Checks for red flag symptoms (breathing difficulty)",
    "steps": [
      "Step 1: Trigger IntakeSpecialist with pain message",
      "Step 2: Provide symptoms including breathing difficulty",
      "Step 3: Verify agent recognizes emergency",
      "Step 4: Verify highest priority score assigned",
      "Step 5: Verify immediate care recommendation"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "IntakeSpecialist Agent - Outputs PRIORITY score after triage",
    "steps": [
      "Step 1: Complete triage flow with IntakeSpecialist",
      "Step 2: Verify PRIORITY score is calculated",
      "Step 3: Verify priority influences appointment urgency",
      "Step 4: Verify priority is stored in session state"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "IntakeSpecialist Agent - Maintains empathetic conversational flow",
    "steps": [
      "Step 1: Send distressing pain message",
      "Step 2: Verify response shows empathy",
      "Step 3: Verify language is supportive not clinical",
      "Step 4: Verify no dismissive language used"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "IntakeSpecialist Agent - Achieves 80%+ triage accuracy on test cases",
    "steps": [
      "Step 1: Run 20 predefined triage test cases",
      "Step 2: Record priority scores assigned",
      "Step 3: Compare against expected priority scores",
      "Step 4: Calculate accuracy percentage",
      "Step 5: Verify accuracy is >= 80%"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "ResourceOptimiser Agent - Uses check_availability tool to find slots",
    "steps": [
      "Step 1: Trigger ResourceOptimiser with booking request",
      "Step 2: Verify check_availability tool is invoked",
      "Step 3: Verify tool receives start and end datetime",
      "Step 4: Verify available slots are returned to user"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "ResourceOptimiser Agent - Uses heuristic_move_check when no slots available",
    "steps": [
      "Step 1: Configure PMS to have no available slots",
      "Step 2: Send booking request",
      "Step 3: Verify heuristic_move_check tool is invoked",
      "Step 4: Verify low-value appointments are identified",
      "Step 5: Verify move recommendations are generated"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "ResourceOptimiser Agent - Negotiates moves when score > 70",
    "steps": [
      "Step 1: Set up scenario with move_score = 85",
      "Step 2: Verify agent initiates move negotiation",
      "Step 3: Verify incentive offer is generated",
      "Step 4: Verify patient is offered the incentive"
    ],
    "passes": false,
    "is_dev_done": true,
    "is_qa_passed": false,
    "qa_retry_count": 0,
    "dev_completed_at": "2026-01-03T14:06:04.118941Z",
    "dev_failure_count": 0
  },
  {
    "category": "functional",
    "description": "ResourceOptimiser Agent - Does not negotiate when score <= 70",
    "steps": [
      "Step 1: Set up scenario with move_score = 50",
      "Step 2: Verify agent does not initiate negotiation",
      "Step 3: Verify alternative options are suggested"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Move Score Heuristic - Prioritizes high-value procedures (Crowns)",
    "steps": [
      "Step 1: Request appointment for Crown procedure",
      "Step 2: Verify high priority assigned",
      "Step 3: Verify low-value appointments considered for move",
      "Step 4: Verify move score calculation includes procedure value"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Move Score Heuristic - Prioritizes high-value procedures (Implants)",
    "steps": [
      "Step 1: Request appointment for Implant procedure",
      "Step 2: Verify highest priority assigned",
      "Step 3: Verify aggressive move suggestions",
      "Step 4: Verify incentive calculations account for procedure value"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Move Score Heuristic - Identifies low-value appointments (Routine Cleaning)",
    "steps": [
      "Step 1: Query appointments for specific time slot",
      "Step 2: Verify D1110 (Prophy/Cleaning) identified as low-value",
      "Step 3: Verify these are prioritized for move suggestions"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Move Score Heuristic - Considers patient LTV in calculations",
    "steps": [
      "Step 1: Create patient with high LTV score",
      "Step 2: Attempt to move their appointment",
      "Step 3: Verify move score is adjusted based on LTV",
      "Step 4: Verify high-LTV patients less likely to be moved"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Appointments API - Get available slots returns time slots",
    "steps": [
      "Step 1: Send GET /appointments/available with clinic_id and date_range",
      "Step 2: Verify response contains slots array",
      "Step 3: Verify each slot has id, start_time, duration",
      "Step 4: Verify slots respect clinic operating hours"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Appointments API - Filter available slots by procedure_code",
    "steps": [
      "Step 1: Send GET /appointments/available with procedure_code filter",
      "Step 2: Verify returned slots have sufficient duration for procedure",
      "Step 3: Verify dentist specialization matches procedure"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Appointments API - Create new appointment successfully",
    "steps": [
      "Step 1: Get available slot",
      "Step 2: Send POST /appointments with session_id, patient_id, slot_id, procedure_code",
      "Step 3: Verify response status is 201",
      "Step 4: Verify appointment object returned",
      "Step 5: Verify appointment stored in database"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Appointments API - Cannot double-book same slot",
    "steps": [
      "Step 1: Create appointment for a slot",
      "Step 2: Attempt to create another appointment for same slot",
      "Step 3: Verify response status is 409 Conflict",
      "Step 4: Verify error message indicates slot taken"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Appointments API - Update appointment status",
    "steps": [
      "Step 1: Create appointment",
      "Step 2: Send PUT /appointments/{id} with status change",
      "Step 3: Verify response contains updated appointment",
      "Step 4: Verify status is updated in database"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Appointments API - Update appointment time",
    "steps": [
      "Step 1: Create appointment",
      "Step 2: Send PUT /appointments/{id} with new start_time",
      "Step 3: Verify new time slot was available",
      "Step 4: Verify appointment moved to new time",
      "Step 5: Verify old slot now available"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Appointments API - Cancel appointment returns 204",
    "steps": [
      "Step 1: Create appointment",
      "Step 2: Send DELETE /appointments/{id}",
      "Step 3: Verify response status is 204",
      "Step 4: Verify appointment status is CANCELLED in database",
      "Step 5: Verify slot becomes available again"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Patients API - Lookup patient by phone (E.164 format)",
    "steps": [
      "Step 1: Create patient with phone +61412345678",
      "Step 2: Send GET /patients/lookup?phone=+61412345678",
      "Step 3: Verify patient data is returned",
      "Step 4: Verify all patient fields present"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Patients API - Lookup non-existent patient returns 404",
    "steps": [
      "Step 1: Send GET /patients/lookup with non-existent phone",
      "Step 2: Verify response status is 404",
      "Step 3: Verify error message"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Patients API - Create new patient successfully",
    "steps": [
      "Step 1: Send POST /patients with phone, name, email",
      "Step 2: Verify response status is 201",
      "Step 3: Verify patient object returned with UUID id",
      "Step 4: Verify patient stored in database"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Patients API - Cannot create duplicate phone number",
    "steps": [
      "Step 1: Create patient with phone number",
      "Step 2: Attempt to create another patient with same phone",
      "Step 3: Verify response status is 409 Conflict"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Patients API - Validate E.164 phone format",
    "steps": [
      "Step 1: Attempt to create patient with invalid phone format",
      "Step 2: Verify response status is 422 Validation Error",
      "Step 3: Verify error indicates phone format issue"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Patients API - Update patient risk profile",
    "steps": [
      "Step 1: Create patient",
      "Step 2: Send PUT /patients/{id} with risk_profile JSONB",
      "Step 3: Verify risk_profile updated",
      "Step 4: Verify pain_tolerance and anxiety_level stored"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Patients API - Update patient LTV score",
    "steps": [
      "Step 1: Create patient",
      "Step 2: Send PUT /patients/{id} with ltv_score",
      "Step 3: Verify ltv_score updated",
      "Step 4: Verify LTV affects heuristic calculations"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Heuristics API - Calculate move score correctly",
    "steps": [
      "Step 1: Create existing appointment",
      "Step 2: Send POST /heuristics/move-score with appointment_id and candidate_slot",
      "Step 3: Verify response contains move_score (0-100)",
      "Step 4: Verify response contains recommendation (MOVE/KEEP)",
      "Step 5: Verify response contains incentive_needed"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Heuristics API - Optimize day returns suggestions",
    "steps": [
      "Step 1: Create multiple appointments for a day",
      "Step 2: Send POST /heuristics/optimize-day with clinic_id and date",
      "Step 3: Verify response contains suggestions array",
      "Step 4: Verify each suggestion has source, target, score"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Proactive Negotiation - Generate discount incentive offer",
    "steps": [
      "Step 1: Identify candidate for move with score > 70",
      "Step 2: Trigger proactive negotiation",
      "Step 3: Verify discount incentive is generated",
      "Step 4: Verify discount amount is appropriate",
      "Step 5: Verify offer is AHPRA compliant"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Proactive Negotiation - Generate priority slot incentive offer",
    "steps": [
      "Step 1: Identify candidate for move",
      "Step 2: Trigger proactive negotiation with priority slot option",
      "Step 3: Verify priority slot offer generated",
      "Step 4: Verify slot is actually priority (e.g., morning)"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Proactive Negotiation - Track offer acceptance rate",
    "steps": [
      "Step 1: Generate multiple move offers",
      "Step 2: Accept some, decline others",
      "Step 3: Query acceptance rate analytics",
      "Step 4: Verify rate is calculated correctly"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Proactive Negotiation - Handle voluntary reschedule request",
    "steps": [
      "Step 1: Patient initiates reschedule request",
      "Step 2: Verify agent offers alternatives",
      "Step 3: Verify incentive may be offered for preferred times",
      "Step 4: Verify reschedule completes successfully"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Move Offers - Create move offer record",
    "steps": [
      "Step 1: Generate move offer via negotiation",
      "Step 2: Verify offer stored in move_offers table",
      "Step 3: Verify original_appointment_id set",
      "Step 4: Verify target_appointment_id set",
      "Step 5: Verify status is PENDING"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Move Offers - Accept move offer updates appointment",
    "steps": [
      "Step 1: Create pending move offer",
      "Step 2: Accept the offer",
      "Step 3: Verify offer status is ACCEPTED",
      "Step 4: Verify original appointment is cancelled",
      "Step 5: Verify new appointment is created",
      "Step 6: Verify incentive is applied"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Move Offers - Decline move offer",
    "steps": [
      "Step 1: Create pending move offer",
      "Step 2: Decline the offer",
      "Step 3: Verify offer status is DECLINED",
      "Step 4: Verify original appointment unchanged"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Move Offers - Expire old offers automatically",
    "steps": [
      "Step 1: Create move offer with past expiry",
      "Step 2: Run offer expiry job",
      "Step 3: Verify offer status is EXPIRED",
      "Step 4: Verify original appointment unchanged"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "AHPRA Compliance - Block testimonial language in outputs",
    "steps": [
      "Step 1: Configure agent with testimonial content",
      "Step 2: Request response that might include testimonial",
      "Step 3: Verify testimonial language is filtered out",
      "Step 4: Verify no review language appears in response"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "AHPRA Compliance - Block review language patterns",
    "steps": [
      "Step 1: Attempt to include customer review phrases",
      "Step 2: Verify phrases like 'best dentist' are blocked",
      "Step 3: Verify comparative claims are filtered",
      "Step 4: Verify 'guaranteed' language is blocked"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "AHPRA Compliance - Patient feedback requires manual approval",
    "steps": [
      "Step 1: Patient submits feedback via API",
      "Step 2: Verify feedback stored with is_approved=false",
      "Step 3: Verify feedback not visible publicly",
      "Step 4: Admin approves feedback",
      "Step 5: Verify feedback now visible"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Admin API - Get pending feedback for approval",
    "steps": [
      "Step 1: Create unapproved feedback entries",
      "Step 2: Send GET /admin/feedback/pending",
      "Step 3: Verify response contains feedback_items array",
      "Step 4: Verify all items have is_approved=false"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Admin API - Approve feedback item",
    "steps": [
      "Step 1: Create unapproved feedback",
      "Step 2: Send PUT /admin/feedback/{id}/approve",
      "Step 3: Verify feedback is_approved is true",
      "Step 4: Verify approved_by is set",
      "Step 5: Verify approved_at timestamp set"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Admin API - Get analytics dashboard data",
    "steps": [
      "Step 1: Create sample appointment history",
      "Step 2: Send GET /admin/analytics",
      "Step 3: Verify response contains no_show_rate",
      "Step 4: Verify response contains chair_utilization",
      "Step 5: Verify response contains revenue_optimization metrics"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Session Persistence - State recovered after reconnection",
    "steps": [
      "Step 1: Create session and have conversation",
      "Step 2: Store session_id",
      "Step 3: Simulate disconnection",
      "Step 4: Reconnect with same session_id",
      "Step 5: Verify conversation history is preserved",
      "Step 6: Verify agent state is recovered",
      "Step 7: Continue conversation seamlessly"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Session Persistence - Checkpoint stored in PostgreSQL",
    "steps": [
      "Step 1: Create session and interact",
      "Step 2: Query agent_sessions table",
      "Step 3: Verify state_snapshot JSONB contains checkpoint",
      "Step 4: Verify current_node matches active agent",
      "Step 5: Verify messages JSONB contains history"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Session Persistence - Concurrent sessions supported per clinic",
    "steps": [
      "Step 1: Create multiple sessions for same clinic",
      "Step 2: Interact with each session independently",
      "Step 3: Verify sessions are isolated",
      "Step 4: Verify no state leakage between sessions"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Session Persistence - Session status transitions correctly",
    "steps": [
      "Step 1: Create session (status: ACTIVE)",
      "Step 2: Complete conversation flow",
      "Step 3: Verify status changes to COMPLETED",
      "Step 4: Verify abandoned sessions timeout correctly"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Agent Hand-off - Visual indicator when switching from Receptionist to IntakeSpecialist",
    "steps": [
      "Step 1: Start conversation with Receptionist",
      "Step 2: Trigger hand-off to IntakeSpecialist",
      "Step 3: Verify SSE agent_state event shows transition",
      "Step 4: Verify UI displays hand-off indicator",
      "Step 5: Verify new agent avatar/name shown"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Agent Hand-off - Visual indicator when switching to ResourceOptimiser",
    "steps": [
      "Step 1: Start conversation with booking intent",
      "Step 2: Verify hand-off to ResourceOptimiser",
      "Step 3: Verify agent indicator updates",
      "Step 4: Verify smooth transition animation"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "PMS Tool - check_availability returns correct slots",
    "steps": [
      "Step 1: Configure mock PMS with known availability",
      "Step 2: Call check_availability(start, end)",
      "Step 3: Verify returned slots match PMS data",
      "Step 4: Verify slot format is correct"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "PMS Tool - heuristic_move_check returns correct score",
    "steps": [
      "Step 1: Create appointment with known value",
      "Step 2: Call heuristic_move_check(appointment_id, new_value)",
      "Step 3: Verify move_score is calculated correctly",
      "Step 4: Verify incentive_needed is appropriate"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "PMS Tool - book_appointment creates appointment correctly",
    "steps": [
      "Step 1: Call book_appointment with valid params",
      "Step 2: Verify appointment is created in PMS",
      "Step 3: Verify confirmation returned",
      "Step 4: Verify slot is no longer available"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "PMS Tool - send_move_offer creates offer correctly",
    "steps": [
      "Step 1: Call send_move_offer with valid params",
      "Step 2: Verify offer is created and tracked",
      "Step 3: Verify offer status is returned",
      "Step 4: Verify outbound notification triggered"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Database - Patients table CRUD operations work correctly",
    "steps": [
      "Step 1: Create patient record",
      "Step 2: Read patient by ID",
      "Step 3: Update patient fields",
      "Step 4: Verify JSONB risk_profile works",
      "Step 5: Delete patient (soft delete)"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Database - Appointments table CRUD operations work correctly",
    "steps": [
      "Step 1: Create appointment with foreign keys",
      "Step 2: Read appointment by ID",
      "Step 3: Update appointment status",
      "Step 4: Verify status enum constraint",
      "Step 5: Soft delete appointment"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Database - Clinics table stores settings correctly",
    "steps": [
      "Step 1: Create clinic with settings JSONB",
      "Step 2: Verify operating_hours stored",
      "Step 3: Verify slot_duration stored",
      "Step 4: Verify API key unique constraint"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Database - Dentists table with schedule JSONB",
    "steps": [
      "Step 1: Create dentist with weekly schedule",
      "Step 2: Verify schedule JSONB stores correctly",
      "Step 3: Verify specializations JSONB works",
      "Step 4: Test is_active toggle"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Database - Procedures table with priority weights",
    "steps": [
      "Step 1: Create procedure with code D1110",
      "Step 2: Verify base_value stored",
      "Step 3: Verify priority_weight for heuristics",
      "Step 4: Verify unique code constraint"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Database - Foreign key relationships enforced",
    "steps": [
      "Step 1: Attempt appointment with invalid patient_id",
      "Step 2: Verify FK constraint error",
      "Step 3: Attempt appointment with invalid clinic_id",
      "Step 4: Verify FK constraint error"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Performance - Intent classification within 2 seconds",
    "steps": [
      "Step 1: Send message to agent",
      "Step 2: Measure time to first agent_state event",
      "Step 3: Verify classification < 2000ms",
      "Step 4: Test with various input types"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Performance - First token time under 800ms",
    "steps": [
      "Step 1: Send message to agent",
      "Step 2: Measure time to first token SSE event",
      "Step 3: Verify TTFT < 800ms",
      "Step 4: Test across different message types"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Performance - Concurrent sessions scale correctly",
    "steps": [
      "Step 1: Create 10 concurrent sessions",
      "Step 2: Send messages to all simultaneously",
      "Step 3: Verify all responses received",
      "Step 4: Verify no session interference",
      "Step 5: Verify response times remain acceptable"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "SSE Reconnection - Widget reconnects after disconnect",
    "steps": [
      "Step 1: Establish SSE connection",
      "Step 2: Simulate network disconnect",
      "Step 3: Verify widget attempts reconnection",
      "Step 4: Verify connection restored",
      "Step 5: Verify missed events are recovered"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "SSE Reconnection - Session state preserved across reconnection",
    "steps": [
      "Step 1: Have active conversation",
      "Step 2: Disconnect SSE stream",
      "Step 3: Reconnect with same session_id",
      "Step 4: Verify conversation history shown",
      "Step 5: Verify can continue conversation"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Widget Integration - Embed in external site without conflicts",
    "steps": [
      "Step 1: Include widget script in external HTML",
      "Step 2: Verify widget renders correctly",
      "Step 3: Verify no CSS conflicts with host site",
      "Step 4: Verify no JS conflicts with host site",
      "Step 5: Verify pf- prefix isolates styles"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Widget Integration - Theme customization via props",
    "steps": [
      "Step 1: Pass custom theme to PearlFlowProvider",
      "Step 2: Verify primary color changes",
      "Step 3: Verify accent colors update",
      "Step 4: Verify custom theme persists"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Generative UI - PainScaleSelector renders correctly",
    "steps": [
      "Step 1: Trigger triage flow",
      "Step 2: Verify PainScaleSelector component renders",
      "Step 3: Interact with slider (1-10)",
      "Step 4: Verify selection is sent to agent",
      "Step 5: Verify agent acknowledges selection"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Generative UI - DateTimePicker renders for scheduling",
    "steps": [
      "Step 1: Trigger booking flow",
      "Step 2: Verify DateTimePicker component renders",
      "Step 3: Select date and time",
      "Step 4: Verify selection sent to agent",
      "Step 5: Verify appointment proceeds"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Generative UI - SlotList shows available times",
    "steps": [
      "Step 1: Request available appointments",
      "Step 2: Verify SlotList component renders",
      "Step 3: Verify slots displayed correctly",
      "Step 4: Click on slot to select",
      "Step 5: Verify selection processed"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Generative UI - ConfirmationCard displays booking summary",
    "steps": [
      "Step 1: Complete booking flow",
      "Step 2: Verify ConfirmationCard renders",
      "Step 3: Verify appointment details shown",
      "Step 4: Verify date/time displayed",
      "Step 5: Verify procedure name shown"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Generative UI - IncentiveOffer displays move offer",
    "steps": [
      "Step 1: Trigger move negotiation",
      "Step 2: Verify IncentiveOffer card renders",
      "Step 3: Verify discount/incentive displayed",
      "Step 4: Verify accept/decline buttons work",
      "Step 5: Verify response sent to agent"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Generative UI - AgentIndicator shows active agent",
    "steps": [
      "Step 1: Start conversation",
      "Step 2: Verify AgentIndicator shows Receptionist",
      "Step 3: Trigger hand-off",
      "Step 4: Verify indicator updates to new agent",
      "Step 5: Verify agent name label updates"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Data Encryption - Data encrypted at rest",
    "steps": [
      "Step 1: Store sensitive patient data",
      "Step 2: Verify database encryption enabled",
      "Step 3: Check raw database file unreadable",
      "Step 4: Verify decryption works via API"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Data Encryption - Data encrypted in transit (HTTPS)",
    "steps": [
      "Step 1: Configure TLS for API",
      "Step 2: Verify HTTP redirects to HTTPS",
      "Step 3: Verify SSE uses secure connection",
      "Step 4: Verify certificate is valid"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Input Sanitization - SQL injection prevented",
    "steps": [
      "Step 1: Send malicious SQL in input fields",
      "Step 2: Verify input is sanitized",
      "Step 3: Verify no SQL execution occurs",
      "Step 4: Verify error handling is secure"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Input Sanitization - XSS prevented in chat",
    "steps": [
      "Step 1: Send script tags in chat message",
      "Step 2: Verify HTML is escaped",
      "Step 3: Verify no script execution",
      "Step 4: Verify safe rendering in widget"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "API Authentication - Invalid API key rejected",
    "steps": [
      "Step 1: Send request with invalid API key",
      "Step 2: Verify 401 response",
      "Step 3: Verify no data leaked",
      "Step 4: Verify rate limiting applied"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "API Authentication - Missing API key rejected",
    "steps": [
      "Step 1: Send request without API key",
      "Step 2: Verify 401 response",
      "Step 3: Verify error message is generic"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Clinic Isolation - Data isolated between clinics",
    "steps": [
      "Step 1: Create data for Clinic A",
      "Step 2: Attempt access with Clinic B API key",
      "Step 3: Verify access denied",
      "Step 4: Verify no cross-clinic data leakage"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Error Handling - Graceful degradation on agent error",
    "steps": [
      "Step 1: Simulate agent processing error",
      "Step 2: Verify user receives friendly error message",
      "Step 3: Verify no technical details exposed",
      "Step 4: Verify session can continue"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Error Handling - Database connection failure handled",
    "steps": [
      "Step 1: Simulate database disconnection",
      "Step 2: Verify appropriate error response",
      "Step 3: Verify automatic reconnection attempt",
      "Step 4: Verify service recovery"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Procedure Codes - D1110 (Prophylaxis) handled correctly",
    "steps": [
      "Step 1: Request booking for cleaning",
      "Step 2: Verify D1110 code associated",
      "Step 3: Verify correct duration assigned",
      "Step 4: Verify correct base value used"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Procedure Codes - Crown procedure prioritized correctly",
    "steps": [
      "Step 1: Request booking for crown",
      "Step 2: Verify high priority_weight applied",
      "Step 3: Verify move score calculations favor crowns"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Procedure Codes - Implant procedure has highest priority",
    "steps": [
      "Step 1: Request implant procedure booking",
      "Step 2: Verify highest priority_weight",
      "Step 3: Verify most aggressive scheduling"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Timezone Handling - Clinic timezone respected",
    "steps": [
      "Step 1: Configure clinic with specific timezone",
      "Step 2: Book appointment",
      "Step 3: Verify times displayed in clinic timezone",
      "Step 4: Verify UTC storage in database"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Operating Hours - Slots only within clinic hours",
    "steps": [
      "Step 1: Configure clinic operating hours 9-5",
      "Step 2: Request available slots",
      "Step 3: Verify no slots before 9am",
      "Step 4: Verify no slots after 5pm"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Dentist Availability - Respect dentist schedule",
    "steps": [
      "Step 1: Configure dentist schedule (Mon-Fri)",
      "Step 2: Request Saturday appointment",
      "Step 3: Verify no slots returned",
      "Step 4: Request Monday appointment",
      "Step 5: Verify slots available"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Dentist Specialization - Match procedure to specialist",
    "steps": [
      "Step 1: Create dentist with implant specialization",
      "Step 2: Request implant appointment",
      "Step 3: Verify only specialist's slots shown",
      "Step 4: Verify general dentist slots excluded"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Chat Widget - Floating button positioned bottom-right by default",
    "steps": [
      "Step 1: Load page with widget",
      "Step 2: Take screenshot",
      "Step 3: Verify button is in bottom-right corner",
      "Step 4: Verify consistent padding from edges"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Chat Widget - Expandable chat window opens smoothly",
    "steps": [
      "Step 1: Click floating button",
      "Step 2: Verify smooth expansion animation",
      "Step 3: Verify chat window fully visible",
      "Step 4: Take screenshot of open state"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Chat Widget - Clinic branding in header",
    "steps": [
      "Step 1: Configure widget with clinic branding",
      "Step 2: Open chat window",
      "Step 3: Verify clinic name displayed",
      "Step 4: Verify brand colors applied"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Chat Widget - Message history scrollable",
    "steps": [
      "Step 1: Send multiple messages to fill window",
      "Step 2: Verify scroll appears",
      "Step 3: Scroll up to see older messages",
      "Step 4: Verify smooth scrolling behavior"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Chat Widget - Minimize and close controls visible",
    "steps": [
      "Step 1: Open chat window",
      "Step 2: Verify minimize button visible",
      "Step 3: Verify close button visible",
      "Step 4: Click minimize, verify window collapses",
      "Step 5: Click close, verify window closes"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Message Bubbles - User messages styled distinctly",
    "steps": [
      "Step 1: Send user message",
      "Step 2: Verify right-aligned bubble",
      "Step 3: Verify primary color background",
      "Step 4: Verify tail indicator points right"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Message Bubbles - Agent messages styled distinctly",
    "steps": [
      "Step 1: Receive agent message",
      "Step 2: Verify left-aligned bubble",
      "Step 3: Verify neutral background color",
      "Step 4: Verify tail indicator points left"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Typing Indicator - Shows agent name while typing",
    "steps": [
      "Step 1: Send message to trigger response",
      "Step 2: Observe typing indicator",
      "Step 3: Verify agent name displayed",
      "Step 4: Verify animated dots or indicator"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Typewriter Effect - Text appears character by character",
    "steps": [
      "Step 1: Trigger agent response",
      "Step 2: Observe text streaming in",
      "Step 3: Verify smooth typewriter animation",
      "Step 4: Verify no visual jank"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Color Palette - Primary Dental Blue #00D4FF used correctly",
    "steps": [
      "Step 1: Open widget with default theme",
      "Step 2: Verify primary button is #00D4FF",
      "Step 3: Verify header accent is #00D4FF",
      "Step 4: Take screenshot for verification"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Color Palette - Trust Green #10B981 for success states",
    "steps": [
      "Step 1: Complete successful action (booking)",
      "Step 2: Verify success message uses #10B981",
      "Step 3: Verify confirmation icons are green"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Color Palette - Emergency Red for urgent indicators",
    "steps": [
      "Step 1: Trigger emergency triage flow",
      "Step 2: Verify red indicators appear",
      "Step 3: Verify Red-500 color used",
      "Step 4: Verify visual urgency conveyed"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Color Palette - Agent Purple for agent indicators",
    "steps": [
      "Step 1: View agent indicator component",
      "Step 2: Verify Purple-500 used for agent avatar",
      "Step 3: Verify agent name label styling"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Typography - Inter font family used",
    "steps": [
      "Step 1: Open widget",
      "Step 2: Inspect font-family CSS",
      "Step 3: Verify Inter is primary font",
      "Step 4: Verify system-ui as fallback"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Typography - Message text uses text-sm to text-base",
    "steps": [
      "Step 1: View message bubbles",
      "Step 2: Verify font size is readable",
      "Step 3: Verify size between 14-16px",
      "Step 4: Verify consistent sizing"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Typography - Agent labels use font-medium text-xs",
    "steps": [
      "Step 1: View agent indicator",
      "Step 2: Verify agent label font weight",
      "Step 3: Verify small but readable text",
      "Step 4: Verify 12px font size"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Tailwind Prefix - All classes use pf- prefix",
    "steps": [
      "Step 1: Inspect widget HTML elements",
      "Step 2: Verify all Tailwind classes have pf- prefix",
      "Step 3: Verify no unprefixed classes",
      "Step 4: Verify no style conflicts with host"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Quick Reply Buttons - Pill-shaped styling",
    "steps": [
      "Step 1: View quick reply buttons",
      "Step 2: Verify rounded-full or pill shape",
      "Step 3: Verify appropriate padding",
      "Step 4: Verify hover state"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Progress Indicators - Multi-step flow visualization",
    "steps": [
      "Step 1: Enter multi-step triage flow",
      "Step 2: Verify progress indicator visible",
      "Step 3: Verify current step highlighted",
      "Step 4: Verify completed steps marked"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Skeleton Loaders - Show during streaming",
    "steps": [
      "Step 1: Trigger agent response",
      "Step 2: Observe loading state",
      "Step 3: Verify skeleton loader appears",
      "Step 4: Verify smooth transition to content"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Toast Notifications - Confirmation messages styled",
    "steps": [
      "Step 1: Complete booking action",
      "Step 2: Verify toast notification appears",
      "Step 3: Verify appropriate styling",
      "Step 4: Verify auto-dismiss behavior"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Mobile Responsive - Widget adapts to mobile viewport",
    "steps": [
      "Step 1: Open widget on mobile viewport (375px)",
      "Step 2: Verify full-width on mobile",
      "Step 3: Verify touch-friendly tap targets",
      "Step 4: Verify text remains readable",
      "Step 5: Take mobile screenshot"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Mobile Responsive - Input field usable on mobile",
    "steps": [
      "Step 1: Open keyboard on mobile",
      "Step 2: Verify input field visible above keyboard",
      "Step 3: Verify can type message",
      "Step 4: Verify send button accessible"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Mobile Responsive - Chat window fills mobile screen",
    "steps": [
      "Step 1: Open chat on mobile device",
      "Step 2: Verify chat takes appropriate screen space",
      "Step 3: Verify header remains visible",
      "Step 4: Verify no horizontal scroll"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "PainScaleSelector - Visual 1-10 slider design",
    "steps": [
      "Step 1: View PainScaleSelector component",
      "Step 2: Verify slider track visible",
      "Step 3: Verify numbered labels 1-10",
      "Step 4: Verify color gradient (green to red)",
      "Step 5: Verify thumb is draggable"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "DateTimePicker - Calendar styled correctly",
    "steps": [
      "Step 1: Open DateTimePicker",
      "Step 2: Verify calendar grid visible",
      "Step 3: Verify current date highlighted",
      "Step 4: Verify unavailable dates grayed out",
      "Step 5: Verify selection highlight"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "SlotList - Time slots displayed clearly",
    "steps": [
      "Step 1: View SlotList with available times",
      "Step 2: Verify each slot is a clear button/card",
      "Step 3: Verify time format is readable",
      "Step 4: Verify hover states on slots"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "ConfirmationCard - Summary layout clear",
    "steps": [
      "Step 1: View booking confirmation",
      "Step 2: Verify card has clear structure",
      "Step 3: Verify key details prominent",
      "Step 4: Verify success styling applied"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "IncentiveOffer - Offer card visually appealing",
    "steps": [
      "Step 1: View incentive offer",
      "Step 2: Verify discount prominently displayed",
      "Step 3: Verify accept/decline buttons clear",
      "Step 4: Verify urgency styling if applicable"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "AgentIndicator - Avatar and name styled",
    "steps": [
      "Step 1: View agent indicator",
      "Step 2: Verify avatar/icon present",
      "Step 3: Verify agent name readable",
      "Step 4: Verify thinking state visible"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Hand-off Animation - Smooth transition between agents",
    "steps": [
      "Step 1: Trigger agent hand-off",
      "Step 2: Observe transition animation",
      "Step 3: Verify smooth fade or slide",
      "Step 4: Verify no jarring transitions"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Accessibility - Focus states visible",
    "steps": [
      "Step 1: Navigate widget with keyboard",
      "Step 2: Verify focus rings visible",
      "Step 3: Verify all interactive elements focusable",
      "Step 4: Verify focus order logical"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Accessibility - Color contrast meets WCAG AA",
    "steps": [
      "Step 1: Check text on background contrast",
      "Step 2: Verify ratio >= 4.5:1 for body text",
      "Step 3: Verify ratio >= 3:1 for large text",
      "Step 4: Use contrast checker tool"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Accessibility - Screen reader compatible",
    "steps": [
      "Step 1: Navigate with screen reader",
      "Step 2: Verify ARIA labels on buttons",
      "Step 3: Verify live regions for updates",
      "Step 4: Verify semantic HTML structure"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Accessibility - Keyboard navigation works",
    "steps": [
      "Step 1: Navigate entire widget with Tab key",
      "Step 2: Verify can open/close with Enter/Escape",
      "Step 3: Verify can send message with Enter",
      "Step 4: Verify all functions keyboard accessible"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Theme Customization - Primary color changeable",
    "steps": [
      "Step 1: Set custom primary color in theme",
      "Step 2: Verify button colors change",
      "Step 3: Verify accent colors update",
      "Step 4: Verify consistent application"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Theme Customization - Dark mode support",
    "steps": [
      "Step 1: Enable dark mode theme",
      "Step 2: Verify backgrounds invert",
      "Step 3: Verify text remains readable",
      "Step 4: Verify all components adapt"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Loading States - Spinner while connecting",
    "steps": [
      "Step 1: Open widget for first time",
      "Step 2: Observe connection loading state",
      "Step 3: Verify spinner or loader visible",
      "Step 4: Verify transitions to ready state"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Error States - Error messages styled appropriately",
    "steps": [
      "Step 1: Trigger error condition",
      "Step 2: Verify error message styled",
      "Step 3: Verify red color used",
      "Step 4: Verify error icon present"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Empty State - Welcome message styled",
    "steps": [
      "Step 1: Open fresh chat",
      "Step 2: Verify welcome message displayed",
      "Step 3: Verify helpful prompt shown",
      "Step 4: Verify inviting design"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "NPM Package - @pearlflow/chat-ui builds ESM format",
    "steps": [
      "Step 1: Run build command",
      "Step 2: Verify dist/esm output exists",
      "Step 3: Verify ES module exports",
      "Step 4: Verify import works in ESM consumer"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "NPM Package - @pearlflow/chat-ui builds CJS format",
    "steps": [
      "Step 1: Run build command",
      "Step 2: Verify dist/cjs output exists",
      "Step 3: Verify CommonJS exports",
      "Step 4: Verify require works in CJS consumer"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "NPM Package - Bundle size under 50kb gzipped",
    "steps": [
      "Step 1: Build production bundle",
      "Step 2: Measure gzipped size",
      "Step 3: Verify size < 50kb",
      "Step 4: Analyze bundle for optimization"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "NPM Package - Tree-shakable exports",
    "steps": [
      "Step 1: Import single component",
      "Step 2: Bundle with tree-shaking",
      "Step 3: Verify unused components excluded",
      "Step 4: Verify minimal bundle size"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "TypeScript - Strict mode enabled in tsconfig",
    "steps": [
      "Step 1: Check tsconfig.json",
      "Step 2: Verify strict: true",
      "Step 3: Verify no implicit any",
      "Step 4: Run tsc with no errors"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "TypeScript - All components have proper type annotations",
    "steps": [
      "Step 1: Check component files",
      "Step 2: Verify props interfaces defined",
      "Step 3: Verify return types specified",
      "Step 4: Verify no any types"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "TypeScript - Type definitions exported with package",
    "steps": [
      "Step 1: Build package",
      "Step 2: Verify .d.ts files generated",
      "Step 3: Verify types are importable",
      "Step 4: Verify IDE autocomplete works"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Python Backend - 100% type hints on all functions",
    "steps": [
      "Step 1: Run mypy on codebase",
      "Step 2: Verify no type errors",
      "Step 3: Verify all functions have hints",
      "Step 4: Verify Pydantic models typed"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Python Backend - All agent tools have docstrings",
    "steps": [
      "Step 1: Check all tool functions",
      "Step 2: Verify docstrings present",
      "Step 3: Verify docstrings describe purpose",
      "Step 4: Verify LLM can introspect"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "TurboRepo - Build pipeline configured",
    "steps": [
      "Step 1: Check turbo.json configuration",
      "Step 2: Run turbo run build",
      "Step 3: Verify all packages build",
      "Step 4: Verify caching works"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "TurboRepo - Test pipeline configured",
    "steps": [
      "Step 1: Check turbo.json test task",
      "Step 2: Run turbo run test",
      "Step 3: Verify all tests execute",
      "Step 4: Verify test results aggregated"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Storybook - Component stories documented",
    "steps": [
      "Step 1: Start Storybook",
      "Step 2: Verify all components have stories",
      "Step 3: Verify different states shown",
      "Step 4: Verify interactive controls work"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Storybook - Agent state visualization stories",
    "steps": [
      "Step 1: Find agent indicator stories",
      "Step 2: Verify Receptionist state story",
      "Step 3: Verify IntakeSpecialist state story",
      "Step 4: Verify ResourceOptimiser state story"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "OpenAPI - Specification generated correctly",
    "steps": [
      "Step 1: Start FastAPI server",
      "Step 2: Access /openapi.json",
      "Step 3: Verify valid OpenAPI 3.0 spec",
      "Step 4: Verify all endpoints documented"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "OpenAPI - Swagger UI accessible at /docs",
    "steps": [
      "Step 1: Start FastAPI server",
      "Step 2: Navigate to /docs",
      "Step 3: Verify Swagger UI loads",
      "Step 4: Verify can try endpoints"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "OpenAPI - ReDoc accessible at /redoc",
    "steps": [
      "Step 1: Start FastAPI server",
      "Step 2: Navigate to /redoc",
      "Step 3: Verify ReDoc loads",
      "Step 4: Verify documentation readable"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Vitest - Frontend unit tests pass",
    "steps": [
      "Step 1: Run pnpm test in chat-ui",
      "Step 2: Verify Vitest runs",
      "Step 3: Verify all tests pass",
      "Step 4: Verify coverage reported"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Pytest - Backend unit tests pass",
    "steps": [
      "Step 1: Run pytest in api",
      "Step 2: Verify all tests pass",
      "Step 3: Verify coverage reported",
      "Step 4: Verify no warnings"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "E2E Tests - Playwright tests pass",
    "steps": [
      "Step 1: Start dev servers",
      "Step 2: Run Playwright tests",
      "Step 3: Verify all scenarios pass",
      "Step 4: Verify screenshots captured"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Docker - API container builds successfully",
    "steps": [
      "Step 1: Build API Dockerfile",
      "Step 2: Verify image builds without error",
      "Step 3: Run container",
      "Step 4: Verify API responds"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Docker - Compose starts full stack",
    "steps": [
      "Step 1: Run docker-compose up",
      "Step 2: Verify API container starts",
      "Step 3: Verify PostgreSQL starts",
      "Step 4: Verify services communicate"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Demo Web App - Renders widget correctly",
    "steps": [
      "Step 1: Start demo-web app",
      "Step 2: Open in browser",
      "Step 3: Verify widget loads",
      "Step 4: Verify can interact with chat"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Demo Web App - Full conversation flow works",
    "steps": [
      "Step 1: Open demo app",
      "Step 2: Click chat widget",
      "Step 3: Send message about tooth pain",
      "Step 4: Complete triage flow",
      "Step 5: Book appointment",
      "Step 6: Verify confirmation received"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "useConnection Hook - Manages SSE connection state",
    "steps": [
      "Step 1: Use useConnection hook in component",
      "Step 2: Verify connected state tracked",
      "Step 3: Verify messages received",
      "Step 4: Verify disconnect handled"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "useConnection Hook - Automatic reconnection on failure",
    "steps": [
      "Step 1: Establish connection",
      "Step 2: Simulate disconnect",
      "Step 3: Verify reconnection attempted",
      "Step 4: Verify reconnection succeeds"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "PearlFlowProvider - API key configuration",
    "steps": [
      "Step 1: Wrap app in PearlFlowProvider",
      "Step 2: Pass apiKey prop",
      "Step 3: Verify key used in requests",
      "Step 4: Verify child components access key"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "PearlFlowProvider - Theme customization context",
    "steps": [
      "Step 1: Pass custom theme to provider",
      "Step 2: Verify theme accessible in children",
      "Step 3: Verify components use theme values",
      "Step 4: Verify theme changes propagate"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "ChatWidget - Position prop works (bottom-right)",
    "steps": [
      "Step 1: Set position='bottom-right'",
      "Step 2: Verify widget positioned correctly",
      "Step 3: Change to 'bottom-left'",
      "Step 4: Verify position updates"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "ChatWidget - defaultOpen prop respected",
    "steps": [
      "Step 1: Set defaultOpen={true}",
      "Step 2: Verify widget opens on load",
      "Step 3: Set defaultOpen={false}",
      "Step 4: Verify widget closed on load"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "MessageBubble - Renders text correctly",
    "steps": [
      "Step 1: Pass text message to MessageBubble",
      "Step 2: Verify text rendered",
      "Step 3: Verify proper styling",
      "Step 4: Verify user vs agent styling"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "MessageBubble - Renders markdown correctly",
    "steps": [
      "Step 1: Pass markdown content",
      "Step 2: Verify bold/italic rendered",
      "Step 3: Verify links clickable",
      "Step 4: Verify lists formatted"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "MessageBubble - Renders generative UI components",
    "steps": [
      "Step 1: Pass ui_component message type",
      "Step 2: Verify PainScaleSelector renders",
      "Step 3: Verify DateTimePicker renders",
      "Step 4: Verify SlotList renders"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "ChatWindow - Handles message history display",
    "steps": [
      "Step 1: Load session with history",
      "Step 2: Verify all messages displayed",
      "Step 3: Verify chronological order",
      "Step 4: Verify scroll to latest"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "ChatWindow - Input field sends messages",
    "steps": [
      "Step 1: Type in input field",
      "Step 2: Click send button",
      "Step 3: Verify message sent to API",
      "Step 4: Verify input field cleared"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "ChatWindow - Enter key sends message",
    "steps": [
      "Step 1: Type in input field",
      "Step 2: Press Enter key",
      "Step 3: Verify message sent",
      "Step 4: Verify Shift+Enter creates newline"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "API Client - Session creation works",
    "steps": [
      "Step 1: Use ts-client to create session",
      "Step 2: Verify session_id returned",
      "Step 3: Verify typed response",
      "Step 4: Verify error handling"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "API Client - Message sending works",
    "steps": [
      "Step 1: Use ts-client to send message",
      "Step 2: Verify request formatted correctly",
      "Step 3: Verify response typed",
      "Step 4: Verify error handling"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "API Client - SSE stream works",
    "steps": [
      "Step 1: Use ts-client SSE helper",
      "Step 2: Verify events received",
      "Step 3: Verify typed event data",
      "Step 4: Verify reconnection logic"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Full E2E - New patient triage to booking flow",
    "steps": [
      "Step 1: Open chat widget",
      "Step 2: Send message 'I have severe tooth pain'",
      "Step 3: Complete pain scale selection (8/10)",
      "Step 4: Answer red flag questions (no swelling, no fever)",
      "Step 5: Verify priority score assigned",
      "Step 6: Agent offers to book appointment",
      "Step 7: Select available time slot",
      "Step 8: Provide patient details",
      "Step 9: Confirm booking",
      "Step 10: Verify confirmation card displayed",
      "Step 11: Verify appointment in database"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Full E2E - Existing patient quick booking flow",
    "steps": [
      "Step 1: Open chat widget",
      "Step 2: Send message 'I need to book a cleaning'",
      "Step 3: Verify ResourceOptimiser activated",
      "Step 4: Provide phone number for lookup",
      "Step 5: Verify patient found",
      "Step 6: View available slots",
      "Step 7: Select preferred slot",
      "Step 8: Confirm booking",
      "Step 9: Verify confirmation received",
      "Step 10: Verify appointment linked to patient"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Full E2E - Emergency triage flow with escalation",
    "steps": [
      "Step 1: Send message about severe pain",
      "Step 2: Indicate pain level 10/10",
      "Step 3: Report swelling symptom",
      "Step 4: Report fever symptom",
      "Step 5: Verify high priority score",
      "Step 6: Verify emergency escalation message",
      "Step 7: Verify immediate care recommendation",
      "Step 8: Verify offer for earliest available slot"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Full E2E - Move negotiation for high-value procedure",
    "steps": [
      "Step 1: Configure full schedule with low-value appointments",
      "Step 2: Send request for crown procedure",
      "Step 3: Verify no immediate slots available",
      "Step 4: Verify move suggestions generated",
      "Step 5: Accept move offer",
      "Step 6: Verify incentive applied",
      "Step 7: Verify high-value appointment booked",
      "Step 8: Verify original patient notified"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Full E2E - Session recovery after disconnect",
    "steps": [
      "Step 1: Start conversation",
      "Step 2: Complete partial triage",
      "Step 3: Simulate browser close",
      "Step 4: Reopen browser with session_id",
      "Step 5: Verify conversation history visible",
      "Step 6: Verify can continue from last point",
      "Step 7: Complete booking flow",
      "Step 8: Verify success"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Full E2E - Concurrent sessions for same clinic",
    "steps": [
      "Step 1: Open two browser tabs",
      "Step 2: Start session in each tab",
      "Step 3: Have different conversations",
      "Step 4: Verify sessions are isolated",
      "Step 5: Complete booking in both",
      "Step 6: Verify no slot conflicts",
      "Step 7: Verify both appointments created"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Australian Privacy Principles - Consent for data collection",
    "steps": [
      "Step 1: Start new session",
      "Step 2: Verify privacy notice displayed",
      "Step 3: Verify consent mechanism present",
      "Step 4: Verify data collection only after consent"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Australian Privacy Principles - Data access request handling",
    "steps": [
      "Step 1: Patient requests their data",
      "Step 2: Verify data can be exported",
      "Step 3: Verify complete data provided",
      "Step 4: Verify audit trail maintained"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Chair Utilization - Analytics calculated correctly",
    "steps": [
      "Step 1: Create appointments for a day",
      "Step 2: Include gaps and bookings",
      "Step 3: Query chair utilization metric",
      "Step 4: Verify calculation accuracy",
      "Step 5: Verify optimization suggestions"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "No-Show Rate - Analytics calculated correctly",
    "steps": [
      "Step 1: Create appointment history with no-shows",
      "Step 2: Mark some appointments as NO_SHOW",
      "Step 3: Query no-show rate analytics",
      "Step 4: Verify rate calculation correct"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Revenue Optimization - Metrics reported correctly",
    "steps": [
      "Step 1: Create varied procedure appointments",
      "Step 2: Complete move optimizations",
      "Step 3: Query revenue optimization analytics",
      "Step 4: Verify improvement percentage calculated",
      "Step 5: Verify comparison to baseline"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "deepagents Integration - create_deep_agent works correctly",
    "steps": [
      "Step 1: Import create_deep_agent from deepagents",
      "Step 2: Create agent with name, instructions, tools",
      "Step 3: Verify agent object created",
      "Step 4: Verify agent can be invoked"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "deepagents Integration - SubAgentMiddleware routes correctly",
    "steps": [
      "Step 1: Create sub-agents",
      "Step 2: Create SubAgentMiddleware with sub_agents list",
      "Step 3: Attach middleware to root agent",
      "Step 4: Verify delegation happens correctly"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "deepagents Integration - Tool.from_function wraps async functions",
    "steps": [
      "Step 1: Define async function with docstring",
      "Step 2: Wrap with Tool.from_function",
      "Step 3: Add to agent tools list",
      "Step 4: Verify agent can invoke tool",
      "Step 5: Verify tool returns expected result"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "deepagents Integration - Session thread_id persistence",
    "steps": [
      "Step 1: Invoke agent with thread_id config",
      "Step 2: Verify state checkpointed",
      "Step 3: Invoke again with same thread_id",
      "Step 4: Verify conversation continues",
      "Step 5: Verify no state loss"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "LangGraph Integration - HumanMessage format works",
    "steps": [
      "Step 1: Import HumanMessage from langchain_core.messages",
      "Step 2: Create message with content",
      "Step 3: Pass to agent ainvoke",
      "Step 4: Verify agent processes correctly"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "LangGraph Integration - Checkpoint serialization to Postgres",
    "steps": [
      "Step 1: Configure Postgres checkpoint saver",
      "Step 2: Have conversation",
      "Step 3: Query agent_sessions table",
      "Step 4: Verify checkpoint JSONB stored",
      "Step 5: Verify checkpoint can be loaded"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Appointment Reminders - SMS notification sent before appointment",
    "steps": [
      "Step 1: Create appointment for tomorrow",
      "Step 2: Trigger reminder job",
      "Step 3: Verify SMS notification queued",
      "Step 4: Verify message content is correct",
      "Step 5: Verify reminder is AHPRA compliant"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "functional",
    "description": "Waitlist Management - Patient added to waitlist when no slots",
    "steps": [
      "Step 1: Book all available slots",
      "Step 2: Patient requests appointment",
      "Step 3: Verify waitlist option offered",
      "Step 4: Add patient to waitlist",
      "Step 5: Verify notification when slot opens"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  },
  {
    "category": "style",
    "description": "Responsive Breakpoints - Widget adapts at tablet viewport",
    "steps": [
      "Step 1: Set viewport to 768px (tablet)",
      "Step 2: Verify widget layout adjusts appropriately",
      "Step 3: Verify all components remain usable",
      "Step 4: Take screenshot for verification"
    ],
    "passes": false,
    "is_dev_done": false,
    "is_qa_passed": false
  }
]